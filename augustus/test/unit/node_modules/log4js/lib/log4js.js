/*
 * Mocked log4js
 */

var events = require('events')
, fs = require('fs')
, path = require('path')
, util = require('util')
, Logger = require('./logger').Logger
, appenders = {}
, loggers = {};

function getLogger (categoryName) {

    // Use default logger if categoryName is not specified or invalid
    if (!(typeof categoryName == "string")) {
        categoryName = Logger.DEFAULT_CATEGORY;
    }

    var appenderList;
    if (!loggers[categoryName]) {
        // Create the logger for this name if it doesn't already exist
        loggers[categoryName] = new Logger(categoryName);
        if (appenders[categoryName]) {
            appenderList = appenders[categoryName];
            appenderList.forEach(function(appender) {
                loggers[categoryName].addListener("log", appender);
            });
        }
    }

    return loggers[categoryName];
}


module.exports = {
    getLogger: getLogger,
};

